<div class="result-content">
  <app-tab [tabs]="tabs"></app-tab>

  <div class="result selectable" *ngIf="res">
    <bar-rating [rate]="res.collins.star" [max]="5" [readOnly]="true"></bar-rating>
    <div class="phonetic">
      <span><mat-icon>record_voice_over</mat-icon></span>
      <mat-chip-list>
        <mat-chip class="pointer" *ngFor="let name of res.phonetic" matTooltip="{{name.type}}" [audio]="name.filename">
          {{name.text}}</mat-chip>
      </mat-chip-list>
    </div>

    <mat-chip-list>
      <mat-chip *ngFor="let name of res.type">{{name}}</mat-chip>
    </mat-chip-list>
    <div>
      <p *ngFor="let tr of res.base">{{tr}}</p>
    </div>

    <mat-card class="card" *ngIf="res.collins">
      <mat-card-header>
        <mat-card-title>科林斯</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <mat-chip-list *ngIf="res.wordForm.length">
          <mat-chip *ngFor="let form of res.wordForm">{{form}}</mat-chip>
        </mat-chip-list>

        <div *ngFor="let entry of res.collins.entry">
          <div *ngFor="let e of entry.tran_entry">
            <div *ngIf="e.tran">
              <div [innerHTML]="e.tran"></div>
              <div *ngIf="e.exam_sents">
                <div class="example-content" *ngFor="let sent of e.exam_sents.sent">
                  <div>{{sent.eng_sent}}</div>
                  <div>{{sent.chn_sent}}</div>
                </div>
              </div>
            </div>
          </div>
        </div>

      </mat-card-content>
    </mat-card>

    <mat-card class="card">
      <mat-card-header>
        <mat-card-title>牛津</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <div [innerHTML]="res.phrases"></div>
        <div *ngFor="let content of res.content">
          <div>{{content.item.pos}}</div>

          <div *ngFor="let core of content.item.core">
            <div [italic]="core.detail.en"></div>
            <div>{{core.detail.zh}}</div>
            <div class="example-content" *ngFor="let example of core.example">
              <div [italic]="example.en"></div>
              <div>{{example.zh}}</div>
            </div>
            <div class="branch" *ngIf="core.branch">
              <div *ngFor="let branch of core.branch">
                <div>{{branch.detail.en}}</div>
                <div>{{branch.detail.zh}}</div>
                <div class="example-content" *ngFor="let example of branch.example">
                  <div [italic]="example.en"></div>
                  <div>{{example.zh}}</div>
                </div>
              </div>
            </div>
          </div>

        </div>
      </mat-card-content>
    </mat-card>
  </div>
</div>
